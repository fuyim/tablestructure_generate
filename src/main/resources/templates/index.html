<!DOCTYPE html>
<html lang="en">
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="app">
    <el-alert
            title="使用提示"
            type="info"
            description="导出excel文件前确保是否有此数据库"
            :closable="false"
            :center="true"
            show-icon>
    </el-alert>
    <div class="container">
        <el-form status-icon :rules="rules" ref="form" :model="form" label-width="100px"  class="demo-ruleForm">
            <el-form-item label="数据库用户名" prop="username">
                <el-input v-model="form.username" placeholder="请输入数据库用户名"></el-input>
            </el-form-item>
            <el-form-item label="数据库密码" prop="password">
                <el-input v-model="form.password" placeholder="请输入数据库密码" show-password></el-input>
            </el-form-item>
            <el-form-item label="数据库名称" prop="databaseName">
                <el-input v-model="form.databaseName" placeholder="请输入数据库名"></el-input>
            </el-form-item>
            <el-form-item label="主机号" prop="hostname">
                <el-input v-model="form.hostname" placeholder="请输入主机号"></el-input>
            </el-form-item>
            <el-form-item>
                <el-button type="success" @click="exportExcel()">导出excel</el-button>
                <el-button type="primary" @click="exportWord()">导出Word</el-button>
                <el-button>取消</el-button>
            </el-form-item>
        </el-form>
    </div>
</div>
</body>
</html>
<script src="https://unpkg.com/vue@2/dist/vue.js"></script>
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<script>
    new Vue({
        el: '#app',
        data() {
            var validateUserName = (rule, value, callback) => {
                if (value === '') {
                    callback(new Error('数据库用户名不能为空！'));
                } else {
                    if (this.form.username !== '') {
                        this.$refs.form.validateField('username');
                    }
                    callback();
                }
            };
            var validatePass = (rule, value, callback) => {
                if (value === '') {
                    callback(new Error('数据库密码不能为空！'));
                } else {
                    if (this.form.password !== '') {
                        this.$refs.form.validateField('password');
                    }
                    callback();
                }
            };
            var checkDatabaseName = (rule, value, callback) => {
                if (value === '') {
                    callback(new Error('数据库名称不能为空！'));
                } else {
                    if (this.form.databaseName !== '') {
                        this.$refs.form.validateField('databaseName');
                    }
                    callback();
                }
            };
            var validateHostname = (rule, value, callback) => {
                if (value === '') {
                    callback(new Error('主机号不能为空！'));
                } else {
                    if (this.form.hostname !== '') {
                        this.$refs.form.validateField('hostname');
                    }
                    callback();
                }
            };
            return {
                form: {
                    username:'',
                    password:'',
                    databaseName:'',
                    hostname:''
                },
                rules: {
                    username: [
                        { validator: validateUserName, trigger: 'blur' }
                    ],
                    password: [
                        { validator: validatePass, trigger: 'blur' }
                    ],
                    databaseName: [
                        { validator: checkDatabaseName, trigger: 'blur' }
                    ],
                    hostname: [
                        { validator: validateHostname, trigger: 'blur' }
                    ],
                }
            }
        },
        methods: {
            exportExcel() {
                console.log('submit!');
            },
            exportWord(){
                console.log("导出word！")
            }
        }
    })
</script>
<style>
    .container{
        width: 70%;
        margin: 15px auto;
    }
</style>